<!DOCTYPE html>
<html>

<body>
<h1> MAPS</h1>
<div id="map" style="width:100%;height:500px"></div>

<script type="text/javascript">

 var latLng = [];
  // Try HTML5 geolocation.
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
       
       var lat = position.coords.latitude;
       var lng = position.coords.longitude;
       var userLat = parseFloat(lat);
       var userLng = parseFloat(lng);
       var lats = [40.7713024, 40.7444883, 40.7347062, 40.7281777, 40.7195264, 40.7180628]
       var lngs = [-73.9632393, -73.9949465, -73.9895759, -73.984377, -74.0089934, -73.9961237]
  var locations = [{title: 'Park Ave Penthouse', location: {lat: 40.7713024, lng: -73.9632393}},
          {title: 'Chelsea Loft', location: {lat: 40.7444883, lng: -73.9949465}},
          {title: 'Union Square Open Floor Plan', location: {lat: 40.7347062, lng: -73.9895759}},
          {title: 'East Village Hip Studio', location: {lat: 40.7281777, lng: -73.984377}},
          {title: 'TriBeCa Artsy Bachelor Pad', location: {lat: 40.7195264, lng: -74.0089934}},
          {title: 'Chinatown Homey Space', location: {lat: 40.7180628, lng: -73.9961237}}];

           var largeInfowindow = new google.maps.InfoWindow();
        // Style the markers a bit. This will be our listing marker icon.
        var defaultIcon = ("https://raw.githubusercontent.com/bernerd252/secretbeer/master/images/beerBottle.gif")
        // Create a "highlighted location" marker color for when the user
        // mouses over the marker.
        var highlightedIcon = ("https://raw.githubusercontent.com/bernerd252/secretbeer/master/images/beerBottleHover.png")
        var largeInfowindow = new google.maps.InfoWindow();
        // The following group uses the location array to create an array of markers on initialize.
        for (var i = 0; i < lats.length; i++) {
          // Get the position from the location array. And turn them into something the computer can use.
          var latParse = parseFloat(lats[i])
          // console.log("latParse " + latParse)
          var lngParse = parseFloat(lngs[i])

          // console.log("lngParse " + lngParse)

           // change latParse and lngParse into latitude and longitude cocordinates that google maps can understand
         var position = new google.maps.LatLng(latParse,lngParse);
          
          // Create a marker per location, and put into markers array.
          var marker = new google.maps.Marker({
            position: position,
            title: title,
            animation: google.maps.Animation.DROP,
            icon: defaultIcon,
             });
          // Push the marker to our array of markers.
          markers.push(marker);
          // Create an onclick event to open the large infowindow at each marker.
          marker.addListener('click', function() {
            populateInfoWindow(this, largeInfowindow);
          });
          // Two event listeners - one for mouseover, one for mouseout,
          // to change the colors back and forth.
          marker.addListener('mouseover', function() {
            this.setIcon(highlightedIcon);
          });
          marker.addListener('mouseout', function() {
            this.setIcon(defaultIcon);
          });
      
  var myCenter = new google.maps.LatLng(40,40);
  var mapCanvas = document.getElementById("map");
  var mapOptions = {center: myCenter, zoom: 5};
  var map = new google.maps.Map(mapCanvas, mapOptions);
  var marker = new google.maps.Marker({position:myCenter});
  marker.setMap(map);



  // module.exports = function(app) {

  //   // Search for Specific Character (or all characters) then provides JSON
  //   app.get('/api/:cleanups?', function(req, res){
  //     console.log(req.body)
  //   }


}
 });
  }


</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF1z4D8_qAlnNA6PDoT8UrYOjhajWyP1Y"></script>

</body>
</html>